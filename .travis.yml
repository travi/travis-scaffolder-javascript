language: node_js
notifications:
  email: false
branches:
  except:
  - "/^v\\d+\\.\\d+\\.\\d+$/"
before_script:
- npm ls >/dev/null
- npm run greenkeeper:update-lockfile
after_script: npm run greenkeeper:upload-lockfile
after_success: npm run coverage:report
deploy:
  provider: script
  skip_cleanup: true
  script: npx semantic-release
env:
  global:
  - FORCE_COLOR=1
  - NPM_CONFIG_COLOR=always
  - GK_LOCK_COMMIT_AMEND=true
  - secure: Ii2fGSc0Rh/UZPpxFd4z4EPgnvGdpRDU240gxMlEcaem7qk8lRLtjYRnluWDnffq2xfnYH5ozGjhYfKMML4qXxwSKfFncuZXGGSmP29RYZn46lQffvNa8F+OY0jW5oj0HBfYVvf4VUnDmZUKMmEL8uPkLsSweVoPjZ1Z3Ye1wiWVp6FbqJTHihLBuFBlH8Z+DnISyW5+9rIX48hoENzbnOUQD4adCJfRrQUsY/qJzmEsIhT9DJLCoGd8QzmW855Qb7AYUa2mHJaAm0CqCbdnp/qzDdVjfsUooc/soyhYUx0wIoF2JNUmTh7rQy7c2t90zt94oheaBUfkZ+KXgARE/EgQbd1zaVsTMF5Yf3ahHKaIPfD3um2cfxEcaWV/8O2L6KSf0Lp81iAb58jHkOy/JJb4w3lZK/Sn4zEVS0pOL+A/o9LCq9dwtPtSjQkwCfED316F7hFvcyRddFn6E0uQVH8TW7ASIhy1jbdX33QaknmKLdM701dy5DDL1c+8b5oFe58rxpRxGuGd7m7/z2mfQOh/b6XBETjYyI9spUzKkVYOoYnE+pQpXSKNVrB02R5nH8FAsOY5I8+nK2VXlIeRmru1MYVSetj7/mGT3GIxnmhwavUqCyil0GZ2oHT8lHavdcRlOe2J2LbGQ4i+tLhVLBGyrjosbt11BfzUJ2D35j0=
